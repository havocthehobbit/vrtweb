// with custom route 
//take name of last line module.exports.?????=main  // ????? is your custom name of your library , so change it after copying or using this template example to whatever your custom library should be named

var _ = require("lodash");
var $gl = require("../l_node_modules/global.js").gl; // this contanes some extra modules and standard library function that can be made to make life easier , please see help under nodejsVRTwebStdLib
//
var main={
            auto_run : function(){ 
                console.log("auto_running testmodule")

                /*
                var csv=""
                csv+="name,age\n"
                csv+="rob,36\n"
                csv+="John,37\n"
                
                $gl.csv_parse(
                    csv
                    
                    ,(data)=>{
                        console.log(data)
                })

                var jsoncsv=[
                    { name : "bob" , age : 25},
                    { name : "gwen" , age : 28}
                ]
                $gl.json_to_csv(
                    jsoncsv
                    
                    ,(data)=>{
                        console.log(data)
                })
                */

                //$gl.ssh_shell( "uptime\nls -la;\date\nexit"  ,
                //$gl.ssh_shell( "stty -echo\nssh havoc@localhost\n"  ,
                //$gl.ssh_prompt( ["ssh havoc@localhost" ]  ,
                //$gl.ssh_prompt( ["ls -la " ]  ,
                $gl.ssh_prompt( ["read q" , "my name is rob","echo hello $q" ]  ,
                
                
                    {
                        conn : {host : "localhost", 
                        port : 22 , 
                        username : "havoc" ,
                        password : "vuya74862" } 
                    } 
                    , function(data){
                        console.log( "ssh result : " , data)
                    })
                
            },
            __app : [ // must be named __app to create a route
                {   
                    name  : "testmodule",
                    route : "/testmodule", // if route not included it will defualt to to name
                    type : "get", // get or post
                    cb : function(req, res, corestuff){ // or fn or callback that will run once route is claled , // corestuff ,gives you some extra modules , parameters and values to use 
                        res.send("testing testmodule")
                    } 


                } // add as many routes as you want in this array, and change name and route string values to your liking
                
            ]
        
}


 
module.exports["testmodule"]=main;
 
